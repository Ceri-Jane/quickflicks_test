{% extends "base.html" %}
{% load static %}
{% block content %}

<link rel="stylesheet" href="{% static 'css/auth.css' %}">

<div class="auth-wrapper">
  <div class="auth-card">
    <h2 class="auth-title">Change Password üîê</h2>

    <form method="POST">
      {% csrf_token %}

      <!-- Current Password -->
      <div class="form-group mb-3">
        <label for="{{ form.old_password.id_for_label }}">Current Password:</label>
        <div class="password-row">
          {{ form.old_password }}
          <svg class="password-toggle"
               onclick="togglePassword('{{ form.old_password.id_for_label }}')"
               viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
            <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z"/>
            <circle cx="12" cy="12" r="3"/>
          </svg>
        </div>
      </div>

      <!-- New Password -->
      <div class="form-group mb-3">
        <label for="{{ form.new_password1.id_for_label }}">New Password:</label>
        <div class="password-row">
          {{ form.new_password1 }}
          <svg class="password-toggle"
               onclick="togglePassword('{{ form.new_password1.id_for_label }}')"
               viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
            <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z"/>
            <circle cx="12" cy="12" r="3"/>
          </svg>
        </div>
      </div>

      <!-- Confirm Password -->
      <div class="form-group mb-3">
        <label for="{{ form.new_password2.id_for_label }}">Confirm New Password:</label>
        <div class="password-row">
          {{ form.new_password2 }}
          <svg class="password-toggle"
               onclick="togglePassword('{{ form.new_password2.id_for_label }}')"
               viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
            <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z"/>
            <circle cx="12" cy="12" r="3"/>
          </svg>
        </div>
      </div>

      <button type="submit" class="btn btn-success w-100 mt-2">
        Save New Password
      </button>
    </form>

    <p class="auth-alt-text mt-3">
      <a href="{% url 'profile' %}">‚Üê Back to Profile</a>
    </p>
  </div>
</div>

{% endblock %}
